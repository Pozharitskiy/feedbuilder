# ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–µ–ø–ª–æ—è –Ω–∞ Vercel

## –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:

### 1. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `vercel.json`
–£–±—Ä–∞–Ω —É—Å—Ç–∞—Ä–µ–≤—à–∏–π —Ñ–æ—Ä–º–∞—Ç —Å `builds`, —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥:

```json
{
  "rewrites": [
    { "source": "/(.*)", "destination": "/api" }
  ]
}
```

### 2. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω `api/index.ts`
–°–æ–∑–¥–∞–Ω entry point –¥–ª—è Vercel serverless functions:

```typescript
import app from "../src/index.js";
export default app;
```

### 3. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω `.nvmrc`
–£–∫–∞–∑–∞–Ω–∞ –≤–µ—Ä—Å–∏—è Node.js 20 –¥–ª—è Vercel.

### 4. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `package.json`
- –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `engines` —Å –≤–µ—Ä—Å–∏–µ–π Node.js
- –î–æ–±–∞–≤–ª–µ–Ω—ã —Ç–∏–ø—ã –¥–ª—è TypeScript: `@types/better-sqlite3`, `@types/uuid`

---

## üöÄ –¢–µ–ø–µ—Ä—å –¥–µ–ø–ª–æ–π –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å!

Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Ö–≤–∞—Ç–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏–∑ GitHub –∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç –ø—Ä–æ–µ–∫—Ç.

–ò–ª–∏ –≤—Ä—É—á–Ω—É—é:
```bash
vercel --prod
```

---

## üìÅ –ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:

```
feedbuilder/
‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îî‚îÄ‚îÄ index.ts          # Entry point –¥–ª—è Vercel
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ index.ts          # Express app (export default)
‚îÇ   ‚îú‚îÄ‚îÄ shopify.ts
‚îÇ   ‚îú‚îÄ‚îÄ db.ts
‚îÇ   ‚îú‚îÄ‚îÄ queries.ts
‚îÇ   ‚îú‚îÄ‚îÄ feeds.ts
‚îÇ   ‚îî‚îÄ‚îÄ routes/
‚îÇ       ‚îú‚îÄ‚îÄ auth.ts
‚îÇ       ‚îú‚îÄ‚îÄ feed.ts
‚îÇ       ‚îî‚îÄ‚îÄ webhooks.ts
‚îú‚îÄ‚îÄ .nvmrc                # Node.js –≤–µ—Ä—Å–∏—è
‚îú‚îÄ‚îÄ vercel.json           # Vercel –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–±–µ–∑ builds)
‚îú‚îÄ‚îÄ package.json
‚îî‚îÄ‚îÄ tsconfig.json
```

---

## üîç –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. Vercel –≤–∏–¥–∏—Ç –ø–∞–ø–∫—É `api/` –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç serverless functions
2. `api/index.ts` –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç Express app –∏–∑ `src/index.ts`
3. `vercel.json` –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã `/*` –Ω–∞ `/api`
4. Vercel –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç TypeScript –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

---

## ‚úÖ Checklist –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è:

- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –¥–µ–ø–ª–æ–π –ø—Ä–æ—à–µ–ª —É—Å–ø–µ—à–Ω–æ –≤ Vercel Dashboard
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ env –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å `/install` endpoint
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å OAuth flow
- [ ] –ó–∞–≥—Ä—É–∑–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç—ã —á–µ—Ä–µ–∑ `/admin/regenerate`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å XML —Ñ–∏–¥ —á–µ—Ä–µ–∑ `/feed/{token}.xml`

**–ì–æ—Ç–æ–≤–æ!** üéâ

